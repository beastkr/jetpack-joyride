var e=Object.defineProperty,t=(t,s,i)=>((t,s,i)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:i}):t[s]=i)(t,"symbol"!=typeof s?s+"":s,i);import{r as s}from"./phaser-DJe_tbjO.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver(e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)}).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var i=s();class a extends i.Scene{constructor(){super("Boot")}preload(){}create(){this.scene.start("Preloader")}}class h{static collectCoin(){this.coin++,this.maxCoin++,localStorage.setItem("coin",String(this.maxCoin))}static init(){this.maxCoin=Number(localStorage.getItem("coin"))??0}}t(h,"speed",300),t(h,"coin",0),t(h,"maxCoin");class r extends Phaser.Physics.Arcade.Sprite{constructor(e,s,i,a){var r;super(e,s,i,a),t(this,"speed"),this.scene.physics.add.existing(this),this.scene.add.existing(this),null==(r=this.body)||r.setImmovable(!0).setAllowGravity(!1),this.speed=h.speed,this.move()}}class n extends r{constructor(e,t,s,i){super(e,t,s,i)}move(){this.speed=h.speed,this.setVelocityX(-this.speed)}checkReset(e){return this.x<=-760&&(this.x=e.x+760,!0)}}class l{constructor(e){t(this,"backgrounds",[]),t(this,"currentLast");for(var s=0;s<7;s++)this.backgrounds.push(new n(e,764*s,512,"room1"));this.currentLast=this.backgrounds[this.backgrounds.length-1]}update(){for(var e=0;e<this.backgrounds.length;e++)if(this.backgrounds[e].move(),this.backgrounds[e].checkReset(this.currentLast))return void(this.currentLast=this.backgrounds[e])}}class o{static createAnim(e,t,s,i,a,h=12,r=!0,n=-1){e.anims.get(t)||e.anims.create({key:t,frames:e.anims.generateFrameNumbers(s,{start:i,end:a}),frameRate:h,repeat:r?n:0})}static play(e,t,s){if(e.anims.play(t,!0),!s)return;const i=e.anims.currentAnim;if(i&&s>=0&&s<i.frames.length){const t=i.frames[s];e.anims.setCurrentFrame(t)}}static playAnim(e,t,s){e.list.forEach(s=>{e.scene.anims.get(t+"_"+s.name)&&o.play(s,t+"_"+s.name)}),s&&e.list[0].once("animationcomplete-"+t+"_head",()=>s())}}class c extends r{constructor(e,s,i,a){super(e,s,i,a),t(this,"flipped",!1),t(this,"using",!1),this.CoinAnimInit(),e.physics.add.overlap(this,e.player,()=>{h.collectCoin(),this.kill()})}update(){this.move(),this.x<=1500&&!this.flipped&&this.using&&(o.play(this,"coin_flip"),this.flipped=!0),this.x<=-20&&this.kill()}move(){this.speed=h.speed,this.setVelocityX(-this.speed)}CoinAnimInit(){o.createAnim(this.scene,"coin_flip","coin",0,7,12,!1)}moveTo(e,t){this.x=e,this.y=t}kill(){this.using=!1,this.flipped=!1,this.disableBody(!0,!0)}}const d=[[0,1,1,0,1,1,0],[1,1,1,1,1,1,1],[1,1,1,1,1,1,1],[0,1,1,1,1,1,0],[0,0,1,1,1,0,0],[0,0,0,1,0,0,0]];class p extends Phaser.GameObjects.Group{constructor(e){super(e),this.createMultiple({frameQuantity:300,key:"coin",active:!1,visible:!1,classType:c})}update(){this.getChildren().forEach(e=>{e.update()})}test(e){const t=d;let s=300*Math.random()+300;this.spawnFromPattern(e,t,3e3,s,32),console.log("aa")}spawnFromPattern(e,t,s,i,a=64){t.forEach((e,t)=>{e.forEach((e,h)=>{if(1!==e)return;const r=s+h*a,n=i+t*a,l=this.getFirstDead(!1);l&&(l.moveTo(r,n),l.enableBody(!0,r,n,!0,!0).setVisible(!0),l.using=!0,l.move())})})}}class y extends r{constructor(e,t,s,i){var a;super(e,t,s,i),this.scene.physics.add.existing(this),this.scene.add.existing(this),null==(a=this.body)||a.setAllowGravity(!1),this.speed=h.speed,this.move()}move(){this.speed=h.speed,this.body.setVelocityX(-this.speed)}}class u extends y{constructor(e,t,s,i){super(e,t,s,i),this.headAnimCreate(),o.play(this,"elechead"),this.scale=1,this.scene.physics.add.overlap(this,this.scene.player,()=>{this.scene.player.switchState("deadbyzap")})}headAnimCreate(){o.createAnim(this.scene,"elechead","elecOn",0,3)}}class g extends y{constructor(e,t,s,i){super(e,t,s,i),this.zapAnim(),o.play(this,"zapFX"),this.setScale(1,.5),this.scene.physics.add.overlap(this,this.scene.player,()=>{let e=this.scene.player;e.isdead||e.switchState("deadbyzap")})}zapAnim(){o.createAnim(this.scene,"zapFX","zapFX",0,31)}}class m extends Phaser.GameObjects.Group{constructor(e){super(e),this.createMultiple({classType:g,key:"zap",frameQuantity:10,active:!1,visible:!1,setXY:{x:-1e3,y:-1e3}})}getZap(e,t,s){const i=this.getFirstDead(!1);if(i)return i.setActive(!0),i.setVisible(!0),i.setPosition(t,s),e.physics.world.enable(i),i;{const i=new g(e,t,s,"");return this.add(i),i}}returnZap(e){var t,s;e.setActive(!1),e.setVisible(!1),null==(t=e.body)||t.stop(),null==(s=e.body)||s.reset(-1e3,-1e3)}}class f extends Phaser.GameObjects.Container{constructor(e,s,i,a,h,r=!1,n=!1){super(e,s,i),t(this,"head"),t(this,"tail"),t(this,"zapfx"),t(this,"headfx"),t(this,"tailfx"),this.zapfx=new m(this.scene),n&&(h=0),r&&(a=0),this.animInit(),this.head=new u(e,0,0,""),this.tail=new u(e,a,h,""),this.calc(a,h),this.fxSetup(a,h),this.add([this.headfx,this.tailfx,...this.zapfx.getChildren(),this.head,this.tail]),this.rotateOrb(),e.add.existing(this)}rotateOrb(){const e=Phaser.Math.Angle.Between(this.head.x,this.head.y,this.tail.x,this.tail.y),t=Phaser.Math.RadToDeg(e);this.head.setAngle(t+90),this.tail.setAngle(t+180+90),this.zapfx.getChildren().forEach(e=>{e.setAngle(t)})}move(){this.head.move(),this.tail.move(),this.zapfx.getChildren().forEach(e=>{e.move()})}update(){this.move(),this.active&&(this.tail.x<=-100-this.x&&this.deactivate(),this.list.forEach(e=>{e.update()}),this.headfx.setPosition(this.head.x,this.head.y),this.tailfx.setPosition(this.tail.x,this.tail.y))}animInit(){o.createAnim(this.scene,"elecglow","elecOnGlow",0,15)}fxSetup(e,t){this.headfx=this.scene.physics.add.sprite(0,0,""),this.tailfx=this.scene.physics.add.sprite(e,t,""),this.headfx.body.setAllowGravity(!1),this.tailfx.body.setAllowGravity(!1),o.play(this.headfx,"elecglow"),o.play(this.tailfx,"elecglow"),this.headfx.body.setVelocityX(-h.speed),this.tailfx.body.setVelocityX(-h.speed)}calc(e,t){const s=Math.sqrt(e*e+t*t),i=Math.floor(s/32),a=Phaser.Math.Angle.Between(0,0,e,t);let r=t>0?1:-1;const n=32*Math.cos(a)-1,l=32*Math.sin(a)-r;for(let c=0;c<=i;c++){const e=n*c,t=l*c,s=this.zapfx.getZap(this.scene,e,t);if(s.setAngle(Phaser.Math.RadToDeg(a)),s.body instanceof Phaser.Physics.Arcade.Body){s.body.setAllowGravity(!1),s.body.setVelocityX(-h.speed);const e=s.width,t=s.height;s.body.setSize(e,t/4),s.body.setOffset(0,t/2-t/8)}o.play(s,"zapFX",c%32)}}reset(e,t,s,i,a=!1,h=!1){this.setActive(!0),this.setPosition(e,t),h&&(i=0),a&&(s=0),this.head.setPosition(0,0),this.tail.setPosition(s,i),this.headfx.setPosition(this.head.x,this.head.y),this.tailfx.setPosition(this.tail.x,this.tail.x),this.calc(s+e-this.x,i+t-this.y),this.rotateOrb()}deactivate(){this.zapfx.getChildren().forEach(e=>{this.zapfx.returnZap(e)}),this.setActive(!1).setVisible(!1)}}class b extends Phaser.GameObjects.Group{constructor(e){super(e),this.createMultiple({classType:f,key:"elec",frameQuantity:5,active:!1,visible:!1})}getElec(e,t,s,i,a,h=!1,r=!1){let n=this.getFirstDead(!1);return n?(console.log("aaa"),n.setActive(!0),n.setVisible(!0),n.reset(t,s,i,a,h,r)):(n=new f(e,t,s,i,a,h,r),this.add(n),console.log("stupid")),n}returnElec(e){e.setActive(!1),e.setVisible(!1)}}class x{constructor(e,s){t(this,"player"),t(this,"scene"),this.player=s,this.scene=e}jetLaunch(){this.player.isdead||(this.scene.input.activePointer.isDown?this.player.body.setAccelerationY(-3e3):this.player.body.setAccelerationY(0))}}class w extends Phaser.GameObjects.Container{constructor(e){super(e.scene),t(this,"playerHead"),t(this,"playerBody"),t(this,"playerJetpack"),this.scene=e.scene,this.addHead(),this.addBody(),this.addJetPack(),e.add(this),this.scale=4}addBody(){this.playerBody=this.scene.add.sprite(10,5,"player_body"),this.add(this.playerBody),this.playerBody.setName("body")}addHead(){this.playerHead=this.scene.add.sprite(10,-8,"player_head"),this.add(this.playerHead),this.playerHead.setName("head")}addJetPack(){this.playerJetpack=this.scene.add.sprite(0,5,"player_jetpack"),this.add(this.playerJetpack),this.playerJetpack.setName("jetpack")}}class A{constructor(e){t(this,"player"),this.player=e,this.animInit()}}class S extends A{constructor(){super(...arguments),t(this,"progress",0)}onEnter(){o.playAnim(this.player.playerSprite,"dead"),this.player.playerSprite.setRotation(Phaser.Math.DegToRad(-90)),this.player.playerSprite.y+=50,this.player.body.setAcceleration(0,0)}onUpdate(...e){h.speed<100&&this.player.scene.scene.restart()}onExit(){this.player.playerSprite.y-=30,this.player.playerSprite.setRotation(Phaser.Math.DegToRad(0))}animInit(){this.createDeadAnim()}createDeadAnim(){o.createAnim(this.player.scene,"dead_head","player_head",24,31,12,!1),o.createAnim(this.player.scene,"dead_body","player_body",24,31,12,!1)}}class v extends A{constructor(){super(...arguments),t(this,"progress",0)}onEnter(){this.progress=0,this.player.playerSprite.playerJetpack.setVisible(!1),this.player.isdead=!0,this.player.scene.cameras.main.shake(250,.01),o.playAnim(this.player.playerSprite,"deadzap",()=>{this.player.switchState("dead")})}onUpdate(...e){this.player.body.velocity.y<0&&this.player.body.setVelocityY(0)}onExit(){}animInit(){this.createZapDeadAnim()}createZapDeadAnim(){o.createAnim(this.player.scene,"deadzap_head","player_head",16,19,12,!1),o.createAnim(this.player.scene,"deadzap_body","player_body",16,19,12,!1)}}class P extends Phaser.GameObjects.Container{constructor(e,s){super(e),t(this,"bulletParticle"),t(this,"explode"),t(this,"bulletshell"),t(this,"player"),this.player=s,this.createParticle(),this.createExplode(),this.createShell(),this.player.add(this)}createParticle(){this.bulletParticle=this.scene.add.particles(0,0,"bullet",{follow:this.player,angle:{min:70,max:110},speed:2e3,scale:{start:2,end:2},alpha:{start:1,end:1},lifespan:1e3,frequency:50,quantity:1,emitting:!0})}stop(){this.bulletParticle.stop(),this.bulletshell.stop()}start(){this.bulletParticle.start(),this.bulletshell.start()}kill(){const e=this.bulletshell.overlap(this.player.scene.bot.body);e.length>0&&e.forEach(e=>{e.kill()});const t=this.bulletParticle.overlap(this.player.scene.bot.body);t.length>0&&t.forEach(e=>{this.explode.emitParticleAt(e.x,e.y),this.bulletshell.emitParticleAt(this.player.x,this.player.y+50),e.kill()})}createExplode(){this.explode=this.scene.add.particles(0,0,"bullet_fx",{frame:[0,1,2,3],emitting:!1,speed:0,scale:1.2,quantity:1,lifespan:50})}createShell(){this.bulletshell=this.scene.add.particles(0,0,"bulletshell",{emitting:!0,angle:{min:110,max:150},rotate:{min:0,max:360},scale:.5,speedX:-100,speedY:300,accelerationX:-1e3,accelerationY:600,quantity:1,lifespan:5e3})}}class k extends A{constructor(e){super(e),t(this,"falling",!1),t(this,"jetFX"),t(this,"bulletParticle"),t(this,"shootingsound"),t(this,"stopsound"),this.bulletParticle||(this.bulletParticle=new P(this.player.scene,this.player)),this.shootingsound=this.player.scene.sound.add("shooting",{loop:!0}),this.stopsound=this.player.scene.sound.add("stopshooting")}onEnter(){this.jetFX||this.createJetFX(),this.player.scene.tweens.add({targets:this.jetFX,alpha:{from:1,to:0},loop:-1,duration:100})}onUpdate(...e){this.player.controller.jetLaunch(),this.checkFall(),this.falling||this.flyup(),this.bulletParticle.kill()}setFXVisible(e){this.jetFX.setVisible(e)}flyup(){this.shootingsound.isPlaying||this.shootingsound.play(),this.setFXVisible(!0),o.playAnim(this.player.playerSprite,"flyup"),this.bulletParticle.start()}onExit(){this.setFXVisible(!1),this.player.body.setVelocityY(0),this.bulletParticle.stop(),this.stopsound.stop(),this.shootingsound.stop()}animInit(){this.flyUpAnimInit(),this.flyDownAnimInit(),this.jetFXAnim()}flyUpAnimInit(){o.createAnim(this.player.scene,"flyup_head","player_head",4,7,24),o.createAnim(this.player.scene,"flyup_body","player_body",4,7,24),o.createAnim(this.player.scene,"flyup_jetpack","player_jetpack",4,7,24)}flyDownAnimInit(){o.createAnim(this.player.scene,"flydown_head","player_head",8,11,12,!1),o.createAnim(this.player.scene,"flydown_body","player_body",8,11,12,!1),o.createAnim(this.player.scene,"flydown_jetpack","player_jetpack",8,11,12,!1)}createJetFX(){this.jetFX=this.player.scene.add.sprite(0,0,""),console.log(this.player.list),this.player.playerSprite.add(this.jetFX),this.jetFX.setName("jetfx"),this.jetFX.scale=.4,this.jetFX.y=24}jetFXAnim(){o.createAnim(this.player.scene,"flyup_jetfx","jet_fx",0,3,24),o.createAnim(this.player.scene,"flyup_bulletfx","bullet_fx",0,3,24)}checkFall(){const e=this.player.body;e.velocity.y>50&&!this.falling&&(this.falling=!0,o.playAnim(this.player.playerSprite,"flydown"),this.setFXVisible(!1),this.bulletParticle.stop(),this.stopsound.play(),this.shootingsound.stop()),e.velocity.y<=50&&(this.falling=!1)}}class _ extends A{constructor(e){super(e),t(this,"runsound",[]);for(let t=1;t<5;t++)this.runsound[t]=this.player.scene.sound.add("run_"+String(t)),this.runsound[t].on("complete",()=>{this.runsound[4==t?1:t+1].play()})}onEnter(){o.playAnim(this.player.playerSprite,"landing",()=>{o.playAnim(this.player.playerSprite,"walking")}),this.runsound[1].play()}onUpdate(...e){this.player.controller.jetLaunch(),this.player.body.velocity.y<0&&this.player.switchState("flying")}onExit(){this.runsound.forEach(e=>{e.stop()})}animInit(){this.landingInit(),this.walkingAnimInit()}walkingAnimInit(){o.createAnim(this.player.scene,"walking_head","player_head",0,3),o.createAnim(this.player.scene,"walking_body","player_body",0,3),o.createAnim(this.player.scene,"walking_jetpack","player_jetpack",0,3)}landingInit(){o.createAnim(this.player.scene,"landing_head","player_head",12,15,12,!1),o.createAnim(this.player.scene,"landing_body","player_body",12,15,12,!1),o.createAnim(this.player.scene,"landing_jetpack","player_jetpack",12,15,12,!1)}}class E extends Phaser.GameObjects.Container{constructor(e,s,i){super(e,s,i),t(this,"isdead",!1),t(this,"shadowSprite"),t(this,"playerSprite"),t(this,"currentState"),t(this,"controller"),t(this,"states"),this.setupBody(),this.setUpSprite(),this.stateInit(),this.controller=new x(this.scene,this),this.scene.add.existing(this),this.switchState("flying"),this.scale=.5,this.setDepth(111)}update(...e){super.update(e),this.currentState&&this.currentState.onUpdate(e),this.shadowSprite.scale=(this.y+300)/350}switchState(e){"walking"==e&&this.isdead||this.currentState!==this.states[e]&&(this.currentState&&this.currentState.onExit(),this.currentState=this.states[e],this.currentState.onEnter())}setUpSprite(){this.shadowSprite=this.scene.add.sprite(0,0,"shadow"),this.playerSprite=new w(this),this.shadowSprite.x=this.x+20,this.shadowSprite.y=750,this.shadowSprite.setAlpha(.5)}setupBody(){this.scene.physics.add.existing(this),this.body.setSize(70,128).setOffset(0,-64)}stateInit(){this.states={walking:new _(this),flying:new k(this),deadbyzap:new v(this),dead:new S(this)}}}class M extends Phaser.GameObjects.Container{constructor(e){super(e),t(this,"logo"),t(this,"center"),t(this,"text"),t(this,"cointext"),this.center={x:innerWidth/2,y:innerHeight/2+100},this.addLogo(),this.addText(),this.addCoinText(),this.scene.add.existing(this),console.log(this)}addCoinText(){let e=h.maxCoin;this.cointext=this.scene.add.text(this.center.x-200,200-this.center.y,String(e),{fontSize:"90px",fontFamily:"Courier",color:"#ffff00",align:"center",fontStyle:"bold",stroke:"#000000",strokeThickness:5}),this.add(this.cointext)}addText(){this.text=this.scene.add.text(0,200,"TOUCH ANYWHERE TO PLAY!",{fontSize:"30px",fontFamily:"Courier",color:"#ffffff",align:"center",fontStyle:"bold",stroke:"#000000",strokeThickness:5}),this.text.setOrigin(.5),this.scene.tweens.add({targets:this.text,alpha:{from:0,to:1},duration:1e3,yoyo:!0,repeat:-1}),this.add(this.text)}addLogo(){this.setPosition(this.center.x,this.center.y),this.logo=this.scene.add.sprite(0,0,"jetlogo"),this.scene.tweens.add({targets:this.logo,alpha:{from:0,to:1},duration:1e3}),this.add(this.logo)}}class j{constructor(e){t(this,"scene"),this.scene=e}}class C extends j{constructor(e){super(e),t(this,"playingsound"),t(this,"startOverlay"),this.playingsound=this.scene.sound.add("menuBGM",{loop:!0})}onEnter(){this.playingsound.play(),this.startOverlay?this.startOverlay.setActive(!0).setVisible(!0):this.startOverlay=new M(this.scene),this.scene.player.body.setAllowGravity(!1),h.speed=0,this.scene.input.once("pointerdown",()=>{this.scene.player.body.setAllowGravity(!0),this.scene.cameras.main.shake(250,.01),this.scene.player.body.setVelocityX(300),this.scene.tweens.add({targets:this.startOverlay,alpha:{from:1,to:0},duration:1e3,onComplete:()=>{this.startOverlay.setActive(!1).setVisible(!1)}})})}onUpdate(e,t){this.scene.bg.update(),this.startOverlay.update(),this.scene.player.x>=300&&this.scene.switchState("playing")}onExit(){this.playingsound.stop(),this.startOverlay.setActive(!1).setVisible(!1),h.speed=300,this.scene.player.body.setVelocityX(0)}}class O extends j{constructor(e){super(e),t(this,"elec",[]),t(this,"progress"),t(this,"playingsound"),this.playingsound||(this.playingsound=this.scene.sound.add("playingBGM",{loop:!0}))}onEnter(){this.playingsound.play()}onUpdate(e,t){this.scene.coinManager.update(),this.scene.bg.update(),this.scene.player.update(),this.scene.progress+=t,this.progress+=t,this.scene.progress>=2e3&&(h.speed+=this.scene.player.isdead?-100:5,h.speed=h.speed<0?0:h.speed,this.scene.progress=0,this.scene.player.isdead||(this.scene.coinManager.test(this.scene),this.RandomElec())),this.scene.zapManager.getChildren().forEach(e=>{e.update()})}RandomElec(){let e=Phaser.Math.Between(0,2),t=Phaser.Math.Between(this.scene.player.y-100,this.scene.player.y+100);return 0==e?this.scene.zapManager.getElec(this.scene,2e3,t,Phaser.Math.Between(100,200),0===Phaser.Math.Between(0,1)?Phaser.Math.Between(-200,-100):Phaser.Math.Between(100,200)):1==e?this.scene.zapManager.getElec(this.scene,2e3,t,Phaser.Math.Between(100,200),0):this.scene.zapManager.getElec(this.scene,2e3,t,0,0===Phaser.Math.Between(0,1)?Phaser.Math.Between(-200,-100):Phaser.Math.Between(100,100))}onExit(){this.playingsound.stop()}}class B extends Phaser.Scene{constructor(){super("GameScene"),t(this,"bg"),t(this,"player"),t(this,"progress",0),t(this,"bot"),t(this,"coinManager"),t(this,"currentState"),t(this,"states"),t(this,"zapManager")}preload(){this.LoadBodySprite(),this.LoadHeadSprite(),this.LoadJetPack(),this.LoadCoin(),this.LoadElec(),this.LoadUI(),this.LoadAudio(),this.load.image("room1","assets/Levels/Room1/room1_1.png"),this.load.image("shadow","assets/Characters/effect_shadow.png"),this.load.image("bullet","assets/Characters/Effects/effect_smgbullet.png"),this.load.image("bulletshell","assets/Characters/Effects/shell.png")}create(){this.cameras.main.setViewport(0,-128,1920,1024),h.speed=300,this.bg=new l(this),this.player=new E(this,-500,500),this.createBot(),this.createTop(),this.coinManager=new p(this),this.stateInit(),this.zapManager=new b(this)}switchState(e){this.currentState!==this.states[e]&&(this.currentState&&this.currentState.onExit(),this.currentState=this.states[e],this.currentState.onEnter())}update(e,t){this.currentState.onUpdate(e,t)}createBot(){this.bot=new Phaser.GameObjects.Rectangle(this,100,1e3,3e3,500),this.physics.add.existing(this.bot),this.physics.add.collider(this.bot,this.player,()=>{this.player.switchState("walking")}),this.bot.body.setImmovable(!0).setAllowGravity(!1),this.add.existing(this.bot)}createTop(){let e=new Phaser.GameObjects.Rectangle(this,400,20,3e3,500);this.physics.add.existing(e),this.physics.add.collider(e,this.player),e.body.setImmovable(!0).setAllowGravity(!1),this.add.existing(e)}stateInit(){this.states={playing:new O(this),pending:new C(this)},this.switchState("pending")}LoadBodySprite(){this.load.spritesheet("player_body","assets/Characters/Barry/defaultBody.png",{frameWidth:32,frameHeight:32})}LoadHeadSprite(){this.load.spritesheet("player_head","assets/Characters/Barry/defaultHead.png",{frameWidth:32,frameHeight:32})}LoadJetPack(){this.load.spritesheet("player_jetpack","assets/Characters/Jetpacks/jetpackDefault.png",{frameWidth:32,frameHeight:44}),this.load.spritesheet("jet_fx","assets/Characters/Effects/jetfx.png",{frameWidth:64,frameHeight:64}),this.load.spritesheet("bullet_fx","assets/Characters/Effects/bulletfx.png",{frameWidth:64,frameHeight:64})}LoadCoin(){this.load.spritesheet("coin","assets/Entities/coin_sheet.png",{frameWidth:32,frameHeight:32})}LoadElec(){this.load.spritesheet("elecOn","assets/Obstacles/Zapper/orbAnim.png",{frameWidth:62,frameHeight:42}),this.load.spritesheet("elecOnGlow","assets/Obstacles/Zapper/RegularZappers/glow.png",{frameWidth:128,frameHeight:128}),this.load.spritesheet("zapFX","assets/Obstacles/Zapper/RegularZappers/zapEffect.png",{frameWidth:32,frameHeight:117})}LoadUI(){this.load.image("jetlogo","assets/Levels/Title/Objects/title_small.png")}LoadAudio(){this.load.audio("shooting","assets/SFX/Jetpack/jetpack_fireLP.mp3"),this.load.audio("stopshooting","assets/SFX/Jetpack/Jetpack_stop.mp3");for(let e=1;e<5;e++)this.load.audio(`run_${e}`,[`assets/SFX/Barry/run_metal_left_${e}.mp3`]);this.load.audio("playingBGM","assets/BGM/Music_Level.mp3"),this.load.audio("menuBGM","assets/BGM/Music_Menu.mp3")}}class F extends i.Scene{constructor(){super("MainMenu"),t(this,"background"),t(this,"logo"),t(this,"title")}preload(){this.load.image("splash","assets/Splash/loading_screen.png")}create(){const{width:e,height:t}=this.scale;this.background=this.add.image(e/2,t/2,"splash");const s=this.background.width,i=this.background.height,a=this.scale.width/s,h=this.scale.height/i,r=Math.max(a,h);this.background.setScale(r),this.background.setScrollFactor(0),this.input.once("pointerdown",()=>{this.scene.start("GameScene")})}}class X extends i.Scene{constructor(){super("Preloader")}init(){this.add.rectangle(512,384,468,32).setStrokeStyle(1,16777215);const e=this.add.rectangle(282,384,4,28,16777215);this.load.on("progress",t=>{e.width=4+460*t})}preload(){this.load.setPath("assets"),this.load.image("logo","logo.png")}create(){h.init(),this.scene.start("MainMenu")}}const L={type:i.AUTO,width:innerWidth,height:innerHeight,parent:"game-container",backgroundColor:"#000000",scale:{mode:Phaser.Scale.EXPAND,autoCenter:Phaser.Scale.CENTER_BOTH},render:{antialias:!1,pixelArt:!0,roundPixels:!0},audio:{disableWebAudio:!1},scene:[a,X,F,B],physics:{default:"arcade",arcade:{gravity:{x:0,y:900}}}};document.addEventListener("DOMContentLoaded",()=>{new i.Game({...L,parent:"game-container"})});
